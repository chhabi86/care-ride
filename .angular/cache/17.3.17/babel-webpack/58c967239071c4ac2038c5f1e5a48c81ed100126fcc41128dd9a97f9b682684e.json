{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction BookComponent_option_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", s_r2.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(s_r2.name);\n  }\n}\nfunction BookComponent_p_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 23);\n    i0.ɵɵtext(1, \"Request submitted. We\\u2019ll contact you shortly.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BookComponent_p_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r2.formError);\n  }\n}\nexport let BookComponent = /*#__PURE__*/(() => {\n  class BookComponent {\n    api;\n    services = [];\n    form = {};\n    ok = false;\n    submitting = false;\n    formError = null;\n    constructor(api) {\n      this.api = api;\n      this.api.services().subscribe({\n        next: d => {\n          this.services = d;\n        },\n        error: () => {\n          this.services = [];\n        }\n      });\n    }\n    submit() {\n      this.formError = null;\n      if (!this.form.fullName || !this.form.phone || !this.form.pickupAddress || !this.form.dropoffAddress || !this.form.pickupTime || !this.form.serviceTypeId) {\n        this.formError = 'Please fill required fields.';\n        return;\n      }\n      this.submitting = true;\n      const payload = {\n        ...this.form,\n        pickupTime: new Date(this.form.pickupTime).toISOString()\n      };\n      this.api.book(payload).subscribe({\n        next: () => {\n          this.ok = true;\n          this.submitting = false;\n        },\n        error: () => {\n          this.formError = 'Submission failed. Try again.';\n          this.submitting = false;\n        }\n      });\n    }\n    static ɵfac = function BookComponent_Factory(t) {\n      return new (t || BookComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: BookComponent,\n      selectors: [[\"app-book\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 57,\n      vars: 13,\n      consts: [[\"f\", \"ngForm\"], [1, \"container\", 2, \"padding\", \"40px 0\"], [2, \"font-size\", \"2rem\", \"font-weight\", \"700\", \"margin-bottom\", \"24px\", \"color\", \"#0f766e\"], [2, \"max-width\", \"500px\", \"margin\", \"auto\", \"display\", \"grid\", \"gap\", \"18px\", 3, \"ngSubmit\"], [1, \"field\"], [1, \"label-text\"], [2, \"color\", \"#c00\"], [\"name\", \"fullName\", \"placeholder\", \"Full Name\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"phone\", \"placeholder\", \"Phone\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"email\", \"placeholder\", \"Email\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"pickupAddress\", \"placeholder\", \"Pickup Address\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"dropoffAddress\", \"placeholder\", \"Drop-off Address\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"datetime-local\", \"name\", \"pickupTime\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"serviceTypeId\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"\", \"disabled\", \"\", \"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"field\", \"full\"], [\"name\", \"notes\", \"placeholder\", \"Notes\", 3, \"ngModelChange\", \"ngModel\"], [1, \"full\"], [2, \"width\", \"100%\", \"background\", \"#0f766e\", \"color\", \"#fff\", \"border\", \"none\", \"padding\", \"10px\", \"border-radius\", \"8px\", 3, \"disabled\"], [\"style\", \"color:#0a7a0a\", \"class\", \"full\", 4, \"ngIf\"], [\"style\", \"color:#c00\", \"class\", \"full\", 4, \"ngIf\"], [3, \"value\"], [1, \"full\", 2, \"color\", \"#0a7a0a\"], [1, \"full\", 2, \"color\", \"#c00\"]],\n      template: function BookComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"section\", 1)(1, \"h2\", 2);\n          i0.ɵɵtext(2, \"Book a Ride\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"form\", 3, 0);\n          i0.ɵɵlistener(\"ngSubmit\", function BookComponent_Template_form_ngSubmit_3_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.submit());\n          });\n          i0.ɵɵelementStart(5, \"label\", 4)(6, \"span\", 5);\n          i0.ɵɵtext(7, \"Full name \");\n          i0.ɵɵelementStart(8, \"span\", 6);\n          i0.ɵɵtext(9, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"input\", 7);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function BookComponent_Template_input_ngModelChange_10_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.form.fullName, $event) || (ctx.form.fullName = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(11, \"label\", 4)(12, \"span\", 5);\n          i0.ɵɵtext(13, \"Phone \");\n          i0.ɵɵelementStart(14, \"span\", 6);\n          i0.ɵɵtext(15, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(16, \"input\", 8);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function BookComponent_Template_input_ngModelChange_16_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.form.phone, $event) || (ctx.form.phone = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(17, \"label\", 4)(18, \"span\", 5);\n          i0.ɵɵtext(19, \"Email\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"input\", 9);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function BookComponent_Template_input_ngModelChange_20_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.form.email, $event) || (ctx.form.email = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(21, \"label\", 4)(22, \"span\", 5);\n          i0.ɵɵtext(23, \"Pickup address \");\n          i0.ɵɵelementStart(24, \"span\", 6);\n          i0.ɵɵtext(25, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(26, \"input\", 10);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function BookComponent_Template_input_ngModelChange_26_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.form.pickupAddress, $event) || (ctx.form.pickupAddress = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(27, \"label\", 4)(28, \"span\", 5);\n          i0.ɵɵtext(29, \"Drop-off address \");\n          i0.ɵɵelementStart(30, \"span\", 6);\n          i0.ɵɵtext(31, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(32, \"input\", 11);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function BookComponent_Template_input_ngModelChange_32_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.form.dropoffAddress, $event) || (ctx.form.dropoffAddress = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(33, \"label\", 4)(34, \"span\", 5);\n          i0.ɵɵtext(35, \"Pickup time \");\n          i0.ɵɵelementStart(36, \"span\", 6);\n          i0.ɵɵtext(37, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(38, \"input\", 12);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function BookComponent_Template_input_ngModelChange_38_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.form.pickupTime, $event) || (ctx.form.pickupTime = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(39, \"label\", 4)(40, \"span\", 5);\n          i0.ɵɵtext(41, \"Service type \");\n          i0.ɵɵelementStart(42, \"span\", 6);\n          i0.ɵɵtext(43, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(44, \"select\", 13);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function BookComponent_Template_select_ngModelChange_44_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.form.serviceTypeId, $event) || (ctx.form.serviceTypeId = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementStart(45, \"option\", 14);\n          i0.ɵɵtext(46, \"Select service\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(47, BookComponent_option_47_Template, 2, 2, \"option\", 15);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(48, \"label\", 16)(49, \"span\", 5);\n          i0.ɵɵtext(50, \"Notes\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(51, \"textarea\", 17);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function BookComponent_Template_textarea_ngModelChange_51_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.form.notes, $event) || (ctx.form.notes = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(52, \"div\", 18)(53, \"button\", 19);\n          i0.ɵɵtext(54);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(55, BookComponent_p_55_Template, 2, 0, \"p\", 20)(56, BookComponent_p_56_Template, 2, 1, \"p\", 21);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(10);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.form.fullName);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.form.phone);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.form.email);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.form.pickupAddress);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.form.dropoffAddress);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.form.pickupTime);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.form.serviceTypeId);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.services);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.form.notes);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", ctx.submitting);\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate(ctx.submitting ? \"Submitting...\" : \"Submit\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.ok);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.formError);\n        }\n      },\n      dependencies: [CommonModule, i2.NgForOf, i2.NgIf, FormsModule, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n      encapsulation: 2\n    });\n  }\n  return BookComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}